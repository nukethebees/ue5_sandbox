# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview
This is an Unreal Engine 5.6 project named "Sandbox" - a development playground for testing and experimenting with UE5 features. The project uses C++ with additional UMG (UI) capabilities and includes plugins for ModelingTools, Water, and Landmass features.

## Build and Development Commands
- **Build solution**: Open `Sandbox.sln` in Visual Studio and build, or use UE5 Editor's compile button
- **Generate project files**: Right-click `Sandbox.uproject` â†’ "Generate Visual Studio project files"
- **Format code**: Uses `.clang-format` configuration (TabWidth: 4, ColumnLimit: 100, no tabs)
- **Run tests**: Single test file exists at `Source/Sandbox/tests/levels_test.cpp`

## Code Architecture and Structure

### Module Structure
The main game module is located in `Source/Sandbox/` with organized subdirectories:
- `actor_components/` - Custom actor components
- `actors/` - Game actors and entities
- `characters/` - Player and NPC character classes
- `data/` - Data assets and structures
- `game_modes/` - Game mode implementations
- `game_states/` - Game state classes
- `huds/` - HUD and UI controllers
- `interfaces/` - C++ interfaces
- `mixins/` - Reusable component mixins
- `player_controllers/` - Player input and control logic
- `subsystems/` - Engine subsystem extensions
- `tests/` - Unit tests
- `utilities/` - Helper functions and utilities
- `widgets/` - UMG widget implementations

### Dependencies
- **Core modules**: Core, CoreUObject, Engine, InputCore, EnhancedInput, UMG
- **C++ Standard**: Latest C++ standard enabled
- **Engine version**: Unreal Engine 5.6

## Coding Standards

### Unreal Engine Code
- **Preserve UE conventions**: Keep autogenerated code style (e.g., `DeltaTime` in Tick, `GetOwner()` method names)
- **Don't rename UE methods**: Changing `GetOwner` to `get_owner` would break functionality
- **Respect engine patterns**: Follow UE naming for inherited/overridden methods

### Custom Code Standards
- **snake_case**: For new methods and variables
- **TitleCase**: For class names
- **Brace initialization**: `int x{0};` instead of `int x = 0;`
- **Const placement**: Right of type - `int* const x{nullptr};`
- **auto usage**: Use where type is obvious and improves readability
- **const correctness**: Apply where appropriate, but don't force const on values that need to be mutable
- **Always use braces**: Even for single-line blocks - `if (x) { return; }`
- **Switch case braces**: Always use braces for switch case blocks - `case Foo: { statements; break; }`
- **No magic numbers**: Use `static constexpr` variables instead of literal numbers - `DrawDebugBox(..., debug_line_thickness)` not `DrawDebugBox(..., 2.0f)`
- **Follow `.clang-format`**: 100 character line limit, 4-space indentation

### Architecture Principles
- **C++ for logic, Blueprints for visuals**: Keep game logic in C++, use Blueprints for visual elements and configuration
- **No asset instantiation in C++**: Don't create meshes or components in C++ - handle in Blueprints
- **Modular design**: Prefer actor components for reusable functionality
- **Performance first**: Spend time upfront building scalable systems rather than accumulating technical debt
- **Professional critique welcome**: Challenge ideas and suggest industry best practices

## Code Writing Policy
- **NEVER write or suggest code unless explicitly requested**: Only write, edit, or create code files when the user specifically asks for implementation
- **Analysis and explanation only by default**: Provide code analysis, explanations, and guidance without writing code
- **Wait for explicit requests**: The user will clearly state when they want code to be written or modified
- **Always run clang-format after code changes**: When making any code modifications, run `clang-format` on all modified files to ensure consistent formatting
- **DO NOT attempt to test Unreal Engine code**: Testing UE5 C++ code requires the engine and project compilation which is not available in this environment